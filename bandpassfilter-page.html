<!DOCTYPE html>

<html>


<title>BandPass Filter</title>

<body>

<h1>Tone JS Bandpass Filter 2</h1>

<button id="play">Play</button>
<button id="stop">Stop</button>

<div class="slidecontainer">
    <input type="range" min="0" max="5.0" step = "0.1" value="0" class="slider" id="Qslider">
    <p>Value: <span id="demo"></span></p>
</div>

 <script src="Tone.min.js"></script>
    <script>
        
        var Q_multiplier = 30;

        var playbutton = document.getElementById("play");
        playbutton.addEventListener("click", bandpassPlay);
       
        var newFilter = new Tone.Filter("lowpass").toMaster();

        var Qslider = document.getElementById("Qslider");
        var output = document.getElementById("demo");
        output.innerHTML = Qslider.value;

        Qslider.oninput = function() {
            output.innerHTML = this.value;
        }

        var stopbutton = document.getElementById("stop");
        stopbutton.addEventListener("click", bandpassStop);
       
        var player = new Tone.Player("https://raw.githubusercontent.com/mf3180/mf3180.github.io/master/Crimewave.mp3").toMaster();
        
        function bandpassPlay() {
            player.start();
            player.connect(newFilter);   
        }
        function bandpassStop() {
            player.stop();
            player.disconnect(newFilter);
        }

        function adjustQwidth(element) {
            newFilter.Q.value = element.value * Q_multiplier;
        }
    </script>


</body>
</html> 
